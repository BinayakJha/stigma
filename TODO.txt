Current Bugs

1
move-result instructions MUST immediately follow their corresponding invoke-x instruction.  This is broken by our fix_register_limit() implementation which possibly inserts moves "around" one or both of thse.

2
The "type in each register" analysis that the verified does is more sophisticated than previously thought.  Apparently it does have some understanding about possible execution for if-x instructions which branch.  Specifically something like this:



v0 = OBJ_REF
// system knows the type of v0 throughout all of the following

if v1 < 1:
	v2 = TYPE_WORD
	v3 = TYPE_OBJ_REF

	// system knows that v2 is TYPE_WORD
	// system knows that v3 is TYPE_OBJ_REF
	// system knows that v0 is TYPE_OBJ_REF

else:
	v2 = TYPE_WIDE
	// system knows v2 is TYPE_WIDE
	// system knows v3 does not have a type here
	// system knows that v0 is TYPE_OBJ_REF

// system knows that v0 is TYPE_OBJ_REF
// system does not assert type for v2
// system does not assert type for v3